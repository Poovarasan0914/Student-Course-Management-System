[{"filePath":"C:\\Users\\SURIYA\\Documents\\GitHub\\Student-Course-Management-System\\frontend\\src\\App.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\SURIYA\\Documents\\GitHub\\Student-Course-Management-System\\frontend\\src\\__mocks__\\fileMock.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\SURIYA\\Documents\\GitHub\\Student-Course-Management-System\\frontend\\src\\components\\AuthLayout.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\SURIYA\\Documents\\GitHub\\Student-Course-Management-System\\frontend\\src\\components\\CourseCard.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\SURIYA\\Documents\\GitHub\\Student-Course-Management-System\\frontend\\src\\components\\ProtectedRoute.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\SURIYA\\Documents\\GitHub\\Student-Course-Management-System\\frontend\\src\\components\\ui\\Drawer.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\SURIYA\\Documents\\GitHub\\Student-Course-Management-System\\frontend\\src\\components\\ui\\ErrorDisplay.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\SURIYA\\Documents\\GitHub\\Student-Course-Management-System\\frontend\\src\\components\\ui\\FormInput.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\SURIYA\\Documents\\GitHub\\Student-Course-Management-System\\frontend\\src\\components\\ui\\LoadingSpinner.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\SURIYA\\Documents\\GitHub\\Student-Course-Management-System\\frontend\\src\\components\\ui\\Sidebar.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\SURIYA\\Documents\\GitHub\\Student-Course-Management-System\\frontend\\src\\components\\ui\\Toast.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\SURIYA\\Documents\\GitHub\\Student-Course-Management-System\\frontend\\src\\components\\ui\\button.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\SURIYA\\Documents\\GitHub\\Student-Course-Management-System\\frontend\\src\\hooks\\api\\config.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\SURIYA\\Documents\\GitHub\\Student-Course-Management-System\\frontend\\src\\hooks\\api\\index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\SURIYA\\Documents\\GitHub\\Student-Course-Management-System\\frontend\\src\\hooks\\api\\useAdmins.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\SURIYA\\Documents\\GitHub\\Student-Course-Management-System\\frontend\\src\\hooks\\api\\useAuth.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\SURIYA\\Documents\\GitHub\\Student-Course-Management-System\\frontend\\src\\hooks\\api\\useCourses.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\SURIYA\\Documents\\GitHub\\Student-Course-Management-System\\frontend\\src\\hooks\\api\\useEnrollments.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\SURIYA\\Documents\\GitHub\\Student-Course-Management-System\\frontend\\src\\hooks\\api\\useMaterials.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\SURIYA\\Documents\\GitHub\\Student-Course-Management-System\\frontend\\src\\hooks\\api\\useMessages.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\SURIYA\\Documents\\GitHub\\Student-Course-Management-System\\frontend\\src\\hooks\\api\\useStaff.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\SURIYA\\Documents\\GitHub\\Student-Course-Management-System\\frontend\\src\\hooks\\api\\useStudents.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\SURIYA\\Documents\\GitHub\\Student-Course-Management-System\\frontend\\src\\main.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\SURIYA\\Documents\\GitHub\\Student-Course-Management-System\\frontend\\src\\pages\\AdminDashboard\\components\\AddAdminModal.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\SURIYA\\Documents\\GitHub\\Student-Course-Management-System\\frontend\\src\\pages\\AdminDashboard\\components\\AdminHeader.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\SURIYA\\Documents\\GitHub\\Student-Course-Management-System\\frontend\\src\\pages\\AdminDashboard\\components\\AdminNavigation.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\SURIYA\\Documents\\GitHub\\Student-Course-Management-System\\frontend\\src\\pages\\AdminDashboard\\components\\AdminsTab.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\SURIYA\\Documents\\GitHub\\Student-Course-Management-System\\frontend\\src\\pages\\AdminDashboard\\components\\CoursesTab.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\SURIYA\\Documents\\GitHub\\Student-Course-Management-System\\frontend\\src\\pages\\AdminDashboard\\components\\DashboardOverview.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\SURIYA\\Documents\\GitHub\\Student-Course-Management-System\\frontend\\src\\pages\\AdminDashboard\\components\\EditCourseModal.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\SURIYA\\Documents\\GitHub\\Student-Course-Management-System\\frontend\\src\\pages\\AdminDashboard\\components\\EnrollmentsTab.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\SURIYA\\Documents\\GitHub\\Student-Course-Management-System\\frontend\\src\\pages\\AdminDashboard\\components\\StaffTab.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\SURIYA\\Documents\\GitHub\\Student-Course-Management-System\\frontend\\src\\pages\\AdminDashboard\\components\\StudentsTab.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\SURIYA\\Documents\\GitHub\\Student-Course-Management-System\\frontend\\src\\pages\\AdminDashboard\\components\\index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\SURIYA\\Documents\\GitHub\\Student-Course-Management-System\\frontend\\src\\pages\\AdminDashboard\\hooks\\useAdminDashboard.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\SURIYA\\Documents\\GitHub\\Student-Course-Management-System\\frontend\\src\\pages\\AdminDashboard\\index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\SURIYA\\Documents\\GitHub\\Student-Course-Management-System\\frontend\\src\\pages\\AdminDashboard\\utils\\helpers.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\SURIYA\\Documents\\GitHub\\Student-Course-Management-System\\frontend\\src\\pages\\AdminLogin.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\SURIYA\\Documents\\GitHub\\Student-Course-Management-System\\frontend\\src\\pages\\CourseHub\\components\\ChatPanel.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\SURIYA\\Documents\\GitHub\\Student-Course-Management-System\\frontend\\src\\pages\\CourseHub\\components\\CourseList.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\SURIYA\\Documents\\GitHub\\Student-Course-Management-System\\frontend\\src\\pages\\CourseHub\\components\\EmojiPicker.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\SURIYA\\Documents\\GitHub\\Student-Course-Management-System\\frontend\\src\\pages\\CourseHub\\components\\FileCard.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\SURIYA\\Documents\\GitHub\\Student-Course-Management-System\\frontend\\src\\pages\\CourseHub\\components\\FilePreviewModal.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\SURIYA\\Documents\\GitHub\\Student-Course-Management-System\\frontend\\src\\pages\\CourseHub\\components\\FileUploadModal.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\SURIYA\\Documents\\GitHub\\Student-Course-Management-System\\frontend\\src\\pages\\CourseHub\\components\\MaterialsPanel.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\SURIYA\\Documents\\GitHub\\Student-Course-Management-System\\frontend\\src\\pages\\CourseHub\\index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\SURIYA\\Documents\\GitHub\\Student-Course-Management-System\\frontend\\src\\pages\\Dashboard\\components\\CourseDetailModal.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\SURIYA\\Documents\\GitHub\\Student-Course-Management-System\\frontend\\src\\pages\\Dashboard\\components\\CoursesGrid.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\SURIYA\\Documents\\GitHub\\Student-Course-Management-System\\frontend\\src\\pages\\Dashboard\\components\\StudentHeader.tsx","messages":[{"ruleId":"react-hooks/set-state-in-effect","severity":2,"message":"Error: Calling setState synchronously within an effect can trigger cascading renders\n\nEffects are intended to synchronize state between React and external systems such as manually updating the DOM, state management libraries, or other platform APIs. In general, the body of an effect should do one or both of the following:\n* Update external systems with the latest state from React.\n* Subscribe for updates from some external system, calling setState in a callback function when external state changes.\n\nCalling setState synchronously within an effect body causes cascading renders that can hurt performance, and is not recommended. (https://react.dev/learn/you-might-not-need-an-effect).\n\nC:\\Users\\SURIYA\\Documents\\GitHub\\Student-Course-Management-System\\frontend\\src\\pages\\Dashboard\\components\\StudentHeader.tsx:164:14\n  162 |     // Fetch notifications on mount and periodically\n  163 |     useEffect(() => {\n> 164 |         void fetchNotifications()\n      |              ^^^^^^^^^^^^^^^^^^ Avoid calling setState() directly within an effect\n  165 |         const interval = setInterval(() => void fetchNotifications(), 30000) // Refresh every 30 seconds\n  166 |         return () => clearInterval(interval)\n  167 |     }, [fetchNotifications])","line":164,"column":14,"nodeType":null,"endLine":164,"endColumn":32}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useState, useRef, useEffect, useMemo, useCallback } from 'react'\r\nimport { useNavigate } from 'react-router-dom'\r\nimport type { Course, Enrollment, Message, CourseMaterial } from '../../../types'\r\nimport { API_URL, getAuthHeaders } from '../../../hooks/api'\r\n\r\ninterface StudentHeaderProps {\r\n    user: { firstName: string; lastName: string } | null\r\n    onLogout: () => void\r\n    onFilterChange?: (filter: 'all' | 'enrolled') => void\r\n    currentFilter?: 'all' | 'enrolled'\r\n    courses?: Course[]\r\n    enrollments?: Enrollment[]\r\n    searchQuery?: string\r\n    onSearchChange?: (query: string) => void\r\n}\r\n\r\nconst SEEN_COURSES_KEY = 'scms_seen_courses'\r\nconst SEEN_MESSAGES_KEY = 'scms_seen_messages'\r\nconst SEEN_MATERIALS_KEY = 'scms_seen_materials'\r\n\r\ntype NotificationType = 'course' | 'message' | 'material'\r\n\r\ninterface Notification {\r\n    id: string\r\n    type: NotificationType\r\n    title: string\r\n    subtitle: string\r\n    courseTitle?: string\r\n    timestamp?: string\r\n    data?: Course | Message | CourseMaterial\r\n}\r\n\r\nexport default function StudentHeader({\r\n    user,\r\n    onLogout,\r\n    onFilterChange,\r\n    currentFilter = 'all',\r\n    courses = [],\r\n    enrollments = [],\r\n    searchQuery = '',\r\n    onSearchChange\r\n}: StudentHeaderProps) {\r\n    const navigate = useNavigate()\r\n    const [showProfileMenu, setShowProfileMenu] = useState(false)\r\n    const [showNotifications, setShowNotifications] = useState(false)\r\n    const [notifications, setNotifications] = useState<Notification[]>([])\r\n    const [isLoadingNotifications, setIsLoadingNotifications] = useState(false)\r\n    const menuRef = useRef<HTMLDivElement>(null)\r\n    const notifRef = useRef<HTMLDivElement>(null)\r\n\r\n    // Get enrolled course IDs\r\n    const enrolledCourseIds = useMemo(() => {\r\n        return enrollments.map(e => String(e.courseId))\r\n    }, [enrollments])\r\n\r\n    // Get new courses (courses not yet seen by user)\r\n    const newCourses = useMemo(() => {\r\n        const seenCourses: string[] = JSON.parse(localStorage.getItem(SEEN_COURSES_KEY) || '[]')\r\n        return courses.filter(course => {\r\n            const courseId = String(course._id || course.id)\r\n            return !seenCourses.includes(courseId)\r\n        })\r\n    }, [courses])\r\n\r\n    // Fetch messages and materials for enrolled courses\r\n    const fetchNotifications = useCallback(async () => {\r\n        if (enrolledCourseIds.length === 0) return\r\n\r\n        setIsLoadingNotifications(true)\r\n        const allNotifications: Notification[] = []\r\n\r\n        // Add new course notifications\r\n        newCourses.forEach(course => {\r\n            allNotifications.push({\r\n                id: `course-${course._id || course.id}`,\r\n                type: 'course',\r\n                title: 'New Course Available',\r\n                subtitle: course.title,\r\n                courseTitle: course.title,\r\n                data: course\r\n            })\r\n        })\r\n\r\n        // Get seen messages and materials from localStorage\r\n        const seenMessages: string[] = JSON.parse(localStorage.getItem(SEEN_MESSAGES_KEY) || '[]')\r\n        const seenMaterials: string[] = JSON.parse(localStorage.getItem(SEEN_MATERIALS_KEY) || '[]')\r\n\r\n        try {\r\n            // Fetch messages and materials for each enrolled course\r\n            for (const courseId of enrolledCourseIds.slice(0, 5)) { // Limit to 5 courses for performance\r\n                const course = courses.find(c => String(c._id || c.id) === courseId)\r\n                const courseTitle = course?.title || 'Unknown Course'\r\n\r\n                // Fetch messages\r\n                try {\r\n                    const messagesRes = await fetch(`${API_URL}/messages/${courseId}`, {\r\n                        headers: getAuthHeaders()\r\n                    })\r\n                    if (messagesRes.ok) {\r\n                        const messages: Message[] = await messagesRes.json()\r\n                        // Get last 5 messages not seen\r\n                        const newMessages = messages\r\n                            .filter(m => !seenMessages.includes(m._id))\r\n                            .slice(-5)\r\n\r\n                        newMessages.forEach(msg => {\r\n                            allNotifications.push({\r\n                                id: `msg-${msg._id}`,\r\n                                type: 'message',\r\n                                title: `New message from ${msg.senderName}`,\r\n                                subtitle: msg.content.length > 50 ? msg.content.substring(0, 50) + '...' : msg.content,\r\n                                courseTitle,\r\n                                timestamp: msg.createdAt,\r\n                                data: msg\r\n                            })\r\n                        })\r\n                    }\r\n                } catch { /* ignore individual errors */ }\r\n\r\n                // Fetch materials\r\n                try {\r\n                    const materialsRes = await fetch(`${API_URL}/materials/${courseId}`, {\r\n                        headers: getAuthHeaders()\r\n                    })\r\n                    if (materialsRes.ok) {\r\n                        const materials: CourseMaterial[] = await materialsRes.json()\r\n                        // Get new materials not seen\r\n                        const newMaterials = materials\r\n                            .filter(m => !seenMaterials.includes(m._id))\r\n                            .slice(-5)\r\n\r\n                        newMaterials.forEach(mat => {\r\n                            allNotifications.push({\r\n                                id: `mat-${mat._id}`,\r\n                                type: 'material',\r\n                                title: 'New Material Added',\r\n                                subtitle: mat.title,\r\n                                courseTitle,\r\n                                timestamp: mat.createdAt,\r\n                                data: mat\r\n                            })\r\n                        })\r\n                    }\r\n                } catch { /* ignore individual errors */ }\r\n            }\r\n        } catch (error) {\r\n            console.error('Error fetching notifications:', error)\r\n        }\r\n\r\n        // Sort by timestamp (newest first) and limit\r\n        allNotifications.sort((a, b) => {\r\n            if (a.timestamp && b.timestamp) {\r\n                return new Date(b.timestamp).getTime() - new Date(a.timestamp).getTime()\r\n            }\r\n            return 0\r\n        })\r\n\r\n        setNotifications(allNotifications.slice(0, 10))\r\n        setIsLoadingNotifications(false)\r\n    }, [enrolledCourseIds, courses, newCourses])\r\n\r\n    // Fetch notifications on mount and periodically\r\n    useEffect(() => {\r\n        void fetchNotifications()\r\n        const interval = setInterval(() => void fetchNotifications(), 30000) // Refresh every 30 seconds\r\n        return () => clearInterval(interval)\r\n    }, [fetchNotifications])\r\n\r\n    // Close menus when clicking outside\r\n    useEffect(() => {\r\n        const handleClickOutside = (event: MouseEvent) => {\r\n            if (menuRef.current && !menuRef.current.contains(event.target as Node)) {\r\n                setShowProfileMenu(false)\r\n            }\r\n            if (notifRef.current && !notifRef.current.contains(event.target as Node)) {\r\n                setShowNotifications(false)\r\n            }\r\n        }\r\n        document.addEventListener('mousedown', handleClickOutside)\r\n        return () => document.removeEventListener('mousedown', handleClickOutside)\r\n    }, [])\r\n\r\n    const markNotificationAsSeen = (notif: Notification) => {\r\n        if (notif.type === 'course' && notif.data) {\r\n            const course = notif.data as Course\r\n            const seen = JSON.parse(localStorage.getItem(SEEN_COURSES_KEY) || '[]')\r\n            const courseId = String(course._id || course.id)\r\n            if (!seen.includes(courseId)) {\r\n                seen.push(courseId)\r\n                localStorage.setItem(SEEN_COURSES_KEY, JSON.stringify(seen))\r\n            }\r\n        } else if (notif.type === 'message' && notif.data) {\r\n            const msg = notif.data as Message\r\n            const seen = JSON.parse(localStorage.getItem(SEEN_MESSAGES_KEY) || '[]')\r\n            if (!seen.includes(msg._id)) {\r\n                seen.push(msg._id)\r\n                localStorage.setItem(SEEN_MESSAGES_KEY, JSON.stringify(seen))\r\n            }\r\n        } else if (notif.type === 'material' && notif.data) {\r\n            const mat = notif.data as CourseMaterial\r\n            const seen = JSON.parse(localStorage.getItem(SEEN_MATERIALS_KEY) || '[]')\r\n            if (!seen.includes(mat._id)) {\r\n                seen.push(mat._id)\r\n                localStorage.setItem(SEEN_MATERIALS_KEY, JSON.stringify(seen))\r\n            }\r\n        }\r\n        // Remove from notifications\r\n        setNotifications(prev => prev.filter(n => n.id !== notif.id))\r\n    }\r\n\r\n    const handleNotificationClick = (notif: Notification) => {\r\n        markNotificationAsSeen(notif)\r\n        // Navigate to course hub\r\n        navigate('/course-hub')\r\n        setShowNotifications(false)\r\n    }\r\n\r\n    const handleClearAllNotifications = () => {\r\n        // Mark all as seen\r\n        const courseIds = courses.map(c => String(c._id || c.id))\r\n        localStorage.setItem(SEEN_COURSES_KEY, JSON.stringify(courseIds))\r\n\r\n        const messageIds = notifications.filter(n => n.type === 'message').map(n => {\r\n            const msg = n.data as Message\r\n            return msg._id\r\n        })\r\n        const existingMsgIds = JSON.parse(localStorage.getItem(SEEN_MESSAGES_KEY) || '[]')\r\n        localStorage.setItem(SEEN_MESSAGES_KEY, JSON.stringify([...existingMsgIds, ...messageIds]))\r\n\r\n        const materialIds = notifications.filter(n => n.type === 'material').map(n => {\r\n            const mat = n.data as CourseMaterial\r\n            return mat._id\r\n        })\r\n        const existingMatIds = JSON.parse(localStorage.getItem(SEEN_MATERIALS_KEY) || '[]')\r\n        localStorage.setItem(SEEN_MATERIALS_KEY, JSON.stringify([...existingMatIds, ...materialIds]))\r\n\r\n        setNotifications([])\r\n        setShowNotifications(false)\r\n    }\r\n\r\n    const getNotificationIcon = (type: NotificationType) => {\r\n        switch (type) {\r\n            case 'course': return 'bi-book'\r\n            case 'message': return 'bi-chat-dots'\r\n            case 'material': return 'bi-file-earmark'\r\n        }\r\n    }\r\n\r\n    const getNotificationColor = (type: NotificationType) => {\r\n        switch (type) {\r\n            case 'course': return 'bg-primary-light text-primary'\r\n            case 'message': return 'bg-accent-light text-accent'\r\n            case 'material': return 'bg-success-light text-success'\r\n        }\r\n    }\r\n\r\n    const menuItems = [\r\n        {\r\n            icon: 'bi-book',\r\n            label: 'My Courses',\r\n            description: 'View enrolled courses only',\r\n            action: () => {\r\n                onFilterChange?.('enrolled')\r\n                setShowProfileMenu(false)\r\n            },\r\n            active: currentFilter === 'enrolled'\r\n        },\r\n        {\r\n            icon: 'bi-collection',\r\n            label: 'All Courses',\r\n            description: 'Browse all available courses',\r\n            action: () => {\r\n                onFilterChange?.('all')\r\n                setShowProfileMenu(false)\r\n            },\r\n            active: currentFilter === 'all'\r\n        },\r\n        {\r\n            icon: 'bi-chat-dots',\r\n            label: 'Course Hub',\r\n            description: 'Chat with instructors',\r\n            action: () => {\r\n                navigate('/course-hub')\r\n                setShowProfileMenu(false)\r\n            }\r\n        },\r\n        { divider: true },\r\n        {\r\n            icon: 'bi-box-arrow-right',\r\n            label: 'Logout',\r\n            description: 'Sign out of your account',\r\n            action: onLogout,\r\n            danger: true\r\n        }\r\n    ]\r\n\r\n    return (\r\n        <header className=\"sticky top-0 z-30 bg-surface border-b border-border\">\r\n            <div className=\"flex justify-between items-center px-6 py-4\">\r\n                <div className=\"lg:pl-0 pl-12\">\r\n                    <h1 className=\"text-xl font-semibold text-text\">\r\n                        {currentFilter === 'enrolled' ? 'My Courses' : 'My Learning'}\r\n                    </h1>\r\n                    {user && (\r\n                        <p className=\"text-sm text-text-secondary\">\r\n                            Welcome back, {user.firstName}!\r\n                        </p>\r\n                    )}\r\n                </div>\r\n                <div className=\"flex items-center gap-3\">\r\n                    {/* Search */}\r\n                    <div className=\"hidden md:block\">\r\n                        <div className=\"relative\">\r\n                            <input\r\n                                type=\"text\"\r\n                                placeholder=\"Search courses...\"\r\n                                value={searchQuery}\r\n                                onChange={(e) => onSearchChange?.(e.target.value)}\r\n                                className=\"w-64 pl-10 pr-4 py-2.5 border border-border rounded-xl text-sm text-text placeholder-text-muted bg-bg focus:outline-none focus:border-primary focus:ring-2 focus:ring-primary/10 transition-all\"\r\n                            />\r\n                            <i className=\"bi bi-search absolute left-3.5 top-1/2 -translate-y-1/2 text-text-muted\"></i>\r\n                            {searchQuery && (\r\n                                <button\r\n                                    onClick={() => onSearchChange?.('')}\r\n                                    className=\"absolute right-3 top-1/2 -translate-y-1/2 text-text-muted hover:text-text transition-colors\"\r\n                                >\r\n                                    <i className=\"bi bi-x-lg text-sm\"></i>\r\n                                </button>\r\n                            )}\r\n                        </div>\r\n                    </div>\r\n\r\n                    {/* Quick Filter Toggle */}\r\n                    <div className=\"hidden sm:flex items-center gap-1 p-1 bg-bg rounded-xl\">\r\n                        <button\r\n                            onClick={() => onFilterChange?.('all')}\r\n                            className={`px-4 py-2 rounded-lg text-sm font-medium transition-all ${currentFilter === 'all'\r\n                                ? 'bg-primary text-white shadow-sm'\r\n                                : 'text-text-secondary hover:text-text'\r\n                                }`}\r\n                        >\r\n                            All\r\n                        </button>\r\n                        <button\r\n                            onClick={() => onFilterChange?.('enrolled')}\r\n                            className={`px-4 py-2 rounded-lg text-sm font-medium transition-all ${currentFilter === 'enrolled'\r\n                                ? 'bg-primary text-white shadow-sm'\r\n                                : 'text-text-secondary hover:text-text'\r\n                                }`}\r\n                        >\r\n                            My Courses\r\n                        </button>\r\n                    </div>\r\n\r\n                    {/* Course Hub Button */}\r\n                    <button\r\n                        onClick={() => navigate('/course-hub')}\r\n                        className=\"hidden sm:flex items-center gap-2 px-4 py-2.5 bg-primary text-white rounded-xl text-sm font-medium hover:bg-primary-hover transition-colors\"\r\n                    >\r\n                        <i className=\"bi bi-chat-dots\"></i>\r\n                        <span className=\"hidden lg:inline\">Course Hub</span>\r\n                    </button>\r\n\r\n                    {/* Notifications */}\r\n                    <div className=\"relative\" ref={notifRef}>\r\n                        <button\r\n                            onClick={() => setShowNotifications(!showNotifications)}\r\n                            className=\"relative p-2.5 text-text-secondary hover:text-text hover:bg-surface-hover rounded-xl transition-colors\"\r\n                        >\r\n                            <i className=\"bi bi-bell text-xl\"></i>\r\n                            {notifications.length > 0 && (\r\n                                <span className=\"absolute -top-1 -right-1 w-5 h-5 bg-error text-white text-xs font-bold rounded-full flex items-center justify-center\">\r\n                                    {notifications.length > 9 ? '9+' : notifications.length}\r\n                                </span>\r\n                            )}\r\n                        </button>\r\n\r\n                        {/* Notifications Dropdown */}\r\n                        {showNotifications && (\r\n                            <div className=\"absolute right-0 top-full mt-2 w-96 bg-surface rounded-2xl shadow-lg border border-border overflow-hidden z-50\">\r\n                                <div className=\"p-4 border-b border-border flex justify-between items-center\">\r\n                                    <h3 className=\"font-semibold text-text\">Notifications</h3>\r\n                                    {notifications.length > 0 && (\r\n                                        <button\r\n                                            onClick={handleClearAllNotifications}\r\n                                            className=\"text-xs text-primary hover:underline\"\r\n                                        >\r\n                                            Mark all as read\r\n                                        </button>\r\n                                    )}\r\n                                </div>\r\n                                <div className=\"max-h-96 overflow-y-auto\">\r\n                                    {isLoadingNotifications ? (\r\n                                        <div className=\"p-6 text-center\">\r\n                                            <div className=\"animate-spin w-6 h-6 border-2 border-primary border-t-transparent rounded-full mx-auto mb-2\"></div>\r\n                                            <p className=\"text-text-secondary text-sm\">Loading...</p>\r\n                                        </div>\r\n                                    ) : notifications.length === 0 ? (\r\n                                        <div className=\"p-6 text-center\">\r\n                                            <i className=\"bi bi-bell-slash text-3xl text-text-muted mb-2 block\"></i>\r\n                                            <p className=\"text-text-secondary text-sm\">No new notifications</p>\r\n                                        </div>\r\n                                    ) : (\r\n                                        <div className=\"py-2\">\r\n                                            {notifications.map((notif) => (\r\n                                                <button\r\n                                                    key={notif.id}\r\n                                                    onClick={() => handleNotificationClick(notif)}\r\n                                                    className=\"w-full px-4 py-3 flex items-start gap-3 hover:bg-surface-hover transition-colors text-left\"\r\n                                                >\r\n                                                    <div className={`w-10 h-10 rounded-xl flex items-center justify-center shrink-0 ${getNotificationColor(notif.type)}`}>\r\n                                                        <i className={`bi ${getNotificationIcon(notif.type)}`}></i>\r\n                                                    </div>\r\n                                                    <div className=\"flex-1 min-w-0\">\r\n                                                        <p className=\"text-sm font-medium text-text truncate\">\r\n                                                            {notif.title}\r\n                                                        </p>\r\n                                                        <p className=\"text-xs text-text-muted truncate\">\r\n                                                            {notif.subtitle}\r\n                                                        </p>\r\n                                                        {notif.courseTitle && notif.type !== 'course' && (\r\n                                                            <p className=\"text-xs text-primary mt-0.5 truncate\">\r\n                                                                {notif.courseTitle}\r\n                                                            </p>\r\n                                                        )}\r\n                                                    </div>\r\n                                                    <span className=\"w-2 h-2 bg-primary rounded-full shrink-0 mt-2\"></span>\r\n                                                </button>\r\n                                            ))}\r\n                                        </div>\r\n                                    )}\r\n                                </div>\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n\r\n                    {/* Profile Dropdown */}\r\n                    <div className=\"relative\" ref={menuRef}>\r\n                        <button\r\n                            onClick={() => setShowProfileMenu(!showProfileMenu)}\r\n                            className=\"flex items-center gap-3 px-3 py-2 bg-bg rounded-xl hover:bg-surface-hover transition-colors\"\r\n                        >\r\n                            <div className=\"w-9 h-9 bg-primary rounded-xl flex items-center justify-center\">\r\n                                <span className=\"text-white text-sm font-semibold\">\r\n                                    {user?.firstName?.charAt(0)}\r\n                                </span>\r\n                            </div>\r\n                            <div className=\"hidden lg:block text-left\">\r\n                                <p className=\"text-sm font-medium text-text\">\r\n                                    {user?.firstName}\r\n                                </p>\r\n                                <p className=\"text-xs text-text-muted\">Student</p>\r\n                            </div>\r\n                            <i className={`bi bi-chevron-down text-text-muted text-sm transition-transform ${showProfileMenu ? 'rotate-180' : ''}`}></i>\r\n                        </button>\r\n\r\n                        {/* Dropdown Menu */}\r\n                        {showProfileMenu && (\r\n                            <div className=\"absolute right-0 top-full mt-2 w-72 bg-surface rounded-2xl shadow-lg border border-border overflow-hidden z-50\">\r\n                                {/* User Info Header */}\r\n                                <div className=\"p-4 bg-bg border-b border-border\">\r\n                                    <div className=\"flex items-center gap-3\">\r\n                                        <div className=\"w-12 h-12 bg-primary rounded-xl flex items-center justify-center\">\r\n                                            <span className=\"text-white text-lg font-semibold\">\r\n                                                {user?.firstName?.charAt(0)}{user?.lastName?.charAt(0)}\r\n                                            </span>\r\n                                        </div>\r\n                                        <div>\r\n                                            <p className=\"font-semibold text-text\">\r\n                                                {user?.firstName} {user?.lastName}\r\n                                            </p>\r\n                                            <p className=\"text-sm text-text-muted\">Student Account</p>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n\r\n                                {/* Menu Items */}\r\n                                <div className=\"py-2\">\r\n                                    {menuItems.map((item, index) => {\r\n                                        if ('divider' in item) {\r\n                                            return <div key={index} className=\"my-2 border-t border-border\"></div>\r\n                                        }\r\n                                        return (\r\n                                            <button\r\n                                                key={index}\r\n                                                onClick={item.action}\r\n                                                className={`w-full px-4 py-3 flex items-center gap-3 hover:bg-surface-hover transition-colors text-left ${item.danger ? 'text-error hover:bg-error-light' : ''\r\n                                                    } ${item.active ? 'bg-primary-light' : ''}`}\r\n                                            >\r\n                                                <div className={`w-9 h-9 rounded-xl flex items-center justify-center ${item.active\r\n                                                    ? 'bg-primary text-white'\r\n                                                    : item.danger\r\n                                                        ? 'bg-error-light text-error'\r\n                                                        : 'bg-bg text-text-secondary'\r\n                                                    }`}>\r\n                                                    <i className={`bi ${item.icon}`}></i>\r\n                                                </div>\r\n                                                <div className=\"flex-1\">\r\n                                                    <p className={`text-sm font-medium ${item.danger ? 'text-error' : 'text-text'}`}>\r\n                                                        {item.label}\r\n                                                    </p>\r\n                                                    <p className=\"text-xs text-text-muted\">{item.description}</p>\r\n                                                </div>\r\n                                                {item.active && (\r\n                                                    <i className=\"bi bi-check-lg text-primary\"></i>\r\n                                                )}\r\n                                            </button>\r\n                                        )\r\n                                    })}\r\n                                </div>\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </header>\r\n    )\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\SURIYA\\Documents\\GitHub\\Student-Course-Management-System\\frontend\\src\\pages\\Dashboard\\components\\index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\SURIYA\\Documents\\GitHub\\Student-Course-Management-System\\frontend\\src\\pages\\Dashboard\\hooks\\useStudentDashboard.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\SURIYA\\Documents\\GitHub\\Student-Course-Management-System\\frontend\\src\\pages\\Dashboard\\index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\SURIYA\\Documents\\GitHub\\Student-Course-Management-System\\frontend\\src\\pages\\Dashboard\\utils\\helpers.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\SURIYA\\Documents\\GitHub\\Student-Course-Management-System\\frontend\\src\\pages\\ForgotPassword.tsx","messages":[{"ruleId":"react-hooks/incompatible-library","severity":1,"message":"Compilation Skipped: Use of incompatible library\n\nThis API returns functions which cannot be memoized without leading to stale UI. To prevent this, by default React Compiler will skip memoizing this component/hook. However, you may see issues if values from this API are passed to other components/hooks that are memoized.\n\nC:\\Users\\SURIYA\\Documents\\GitHub\\Student-Course-Management-System\\frontend\\src\\pages\\ForgotPassword.tsx:250:68\n  248 |                                 {...resetForm.register('confirmPassword', {\n  249 |                                     required: 'Please confirm your password',\n> 250 |                                     validate: (value) => value === resetForm.watch('newPassword') || 'Passwords do not match'\n      |                                                                    ^^^^^^^^^ React Hook Form's `useForm()` API returns a `watch()` function which cannot be memoized safely.\n  251 |                                 })}\n  252 |                                 type=\"password\"\n  253 |                                 placeholder=\"Confirm new password\"","line":250,"column":68,"nodeType":null,"endLine":250,"endColumn":77}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useState, useRef, useEffect } from 'react'\r\nimport { useNavigate, useSearchParams } from 'react-router-dom'\r\nimport { useForm } from 'react-hook-form'\r\nimport { useForgotPassword, useResetPassword } from '../hooks/api'\r\nimport { SuccessDisplay, InlineError } from '../components/ui/ErrorDisplay'\r\nimport { ErrorAlert } from '../components/ui/Toast'\r\nimport AuthLayout from '../components/AuthLayout'\r\nimport { SubmitButton } from '../components/ui/FormInput'\r\n\r\ntype UserType = 'student' | 'staff' | 'admin'\r\n\r\ninterface ForgotPasswordFormValues {\r\n    email: string\r\n}\r\n\r\ninterface ResetPasswordFormValues {\r\n    resetCode: string\r\n    newPassword: string\r\n    confirmPassword: string\r\n}\r\n\r\nconst getUserTypeConfig = (userType: UserType) => {\r\n    const configs = {\r\n        student: {\r\n            title: 'Reset Password',\r\n            subtitle: 'Student account recovery',\r\n            loginPath: '/login',\r\n            loginText: 'Back to Student Login'\r\n        },\r\n        staff: {\r\n            title: 'Reset Password',\r\n            subtitle: 'Staff account recovery',\r\n            badge: { text: 'Staff Portal', color: 'accent' as const },\r\n            loginPath: '/staff/login',\r\n            loginText: 'Back to Staff Login'\r\n        },\r\n        admin: {\r\n            title: 'Reset Password',\r\n            subtitle: 'Admin account recovery',\r\n            badge: { text: 'Admin Portal', color: 'error' as const },\r\n            loginPath: '/admin/login',\r\n            loginText: 'Back to Admin Login'\r\n        }\r\n    }\r\n    return configs[userType]\r\n}\r\n\r\nexport default function ForgotPassword() {\r\n    const navigate = useNavigate()\r\n    const [searchParams] = useSearchParams()\r\n    const userType = (searchParams.get('type') as UserType) || 'student'\r\n\r\n    const config = getUserTypeConfig(userType)\r\n\r\n    const forgotPasswordMutation = useForgotPassword()\r\n    const resetPasswordMutation = useResetPassword()\r\n\r\n    const [step, setStep] = useState<'email' | 'reset'>('email')\r\n    const [email, setEmail] = useState('')\r\n    const [successMessage, setSuccessMessage] = useState('')\r\n    const [errorMessage, setErrorMessage] = useState('')\r\n\r\n    const emailInputRef = useRef<HTMLInputElement>(null)\r\n    const codeInputRef = useRef<HTMLInputElement>(null)\r\n\r\n    const emailForm = useForm<ForgotPasswordFormValues>()\r\n    const resetForm = useForm<ResetPasswordFormValues>()\r\n\r\n    useEffect(() => {\r\n        if (step === 'email' && emailInputRef.current) {\r\n            emailInputRef.current.focus()\r\n        } else if (step === 'reset' && codeInputRef.current) {\r\n            codeInputRef.current.focus()\r\n        }\r\n    }, [step])\r\n\r\n    const handleEmailSubmit = async (data: ForgotPasswordFormValues) => {\r\n        try {\r\n            setErrorMessage('')\r\n            setSuccessMessage('')\r\n\r\n            await forgotPasswordMutation.mutateAsync({\r\n                email: data.email,\r\n                userType\r\n            })\r\n\r\n            setEmail(data.email)\r\n            setSuccessMessage('If an account exists with this email, a reset code has been sent. Check your inbox!')\r\n            setTimeout(() => {\r\n                setStep('reset')\r\n                setSuccessMessage('')\r\n            }, 2000)\r\n        } catch (error: unknown) {\r\n            const errorMessage = error instanceof Error ? error.message : 'Failed to send reset code. Please try again.'\r\n            setErrorMessage(errorMessage)\r\n        }\r\n    }\r\n\r\n    const handleResetSubmit = async (data: ResetPasswordFormValues) => {\r\n        try {\r\n            setErrorMessage('')\r\n            setSuccessMessage('')\r\n\r\n            if (data.newPassword !== data.confirmPassword) {\r\n                setErrorMessage('Passwords do not match')\r\n                return\r\n            }\r\n\r\n            await resetPasswordMutation.mutateAsync({\r\n                email,\r\n                resetCode: data.resetCode,\r\n                newPassword: data.newPassword,\r\n                userType\r\n            })\r\n\r\n            setSuccessMessage('Password reset successful! Redirecting to login...')\r\n            setTimeout(() => navigate(config.loginPath), 2000)\r\n        } catch (error: unknown) {\r\n            const errorMessage = error instanceof Error ? error.message : 'Invalid or expired reset code. Please try again.'\r\n            setErrorMessage(errorMessage)\r\n        }\r\n    }\r\n\r\n    return (\r\n        <AuthLayout\r\n            title={config.title}\r\n            subtitle={config.subtitle}\r\n            badge={'badge' in config ? config.badge : undefined}\r\n            footerLinks={[\r\n                { text: '', linkText: config.loginText, to: config.loginPath }\r\n            ]}\r\n        >\r\n            {successMessage && (\r\n                <SuccessDisplay message={successMessage} onDismiss={() => setSuccessMessage('')} />\r\n            )}\r\n\r\n            {errorMessage && (\r\n                <ErrorAlert message={errorMessage} onDismiss={() => setErrorMessage('')} />\r\n            )}\r\n\r\n            {step === 'email' ? (\r\n                <>\r\n                    <div className=\"mb-6 text-center\">\r\n                        <div className=\"mx-auto w-16 h-16 bg-linear-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center mb-4\">\r\n                            <svg className=\"w-8 h-8 text-white\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15 7a2 2 0 012 2m4 0a6 6 0 01-7.743 5.743L11 17H9v2H7v2H4a1 1 0 01-1-1v-2.586a1 1 0 01.293-.707l5.964-5.964A6 6 0 1121 9z\" />\r\n                            </svg>\r\n                        </div>\r\n                        <p className=\"text-gray-600 text-sm\">\r\n                            Enter your email address and we'll send you a 6-digit code to reset your password.\r\n                        </p>\r\n                    </div>\r\n\r\n                    <form onSubmit={emailForm.handleSubmit(handleEmailSubmit)} noValidate className=\"space-y-4\">\r\n                        <div>\r\n                            <label className=\"form-label\">Email Address</label>\r\n                            <input\r\n                                {...emailForm.register('email', {\r\n                                    required: 'Email is required',\r\n                                    pattern: { value: /^[^@\\s]+@[^@\\s]+\\.[^@\\s]+$/, message: 'Invalid email format' }\r\n                                })}\r\n                                ref={(e) => {\r\n                                    emailForm.register('email').ref(e)\r\n                                    emailInputRef.current = e\r\n                                }}\r\n                                type=\"email\"\r\n                                placeholder=\"Enter your email\"\r\n                                className={`form-input ${emailForm.formState.errors.email ? 'error' : ''}`}\r\n                                disabled={forgotPasswordMutation.isPending}\r\n                            />\r\n                            {emailForm.formState.errors.email && (\r\n                                <InlineError message={emailForm.formState.errors.email.message || 'Invalid email'} />\r\n                            )}\r\n                        </div>\r\n\r\n                        <SubmitButton\r\n                            isLoading={forgotPasswordMutation.isPending}\r\n                            loadingText=\"Sending code...\"\r\n                        >\r\n                            Send Reset Code\r\n                        </SubmitButton>\r\n                    </form>\r\n                </>\r\n            ) : (\r\n                <>\r\n                    <div className=\"mb-6 text-center\">\r\n                        <div className=\"mx-auto w-16 h-16 bg-linear-to-br from-green-500 to-teal-600 rounded-full flex items-center justify-center mb-4\">\r\n                            <svg className=\"w-8 h-8 text-white\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z\" />\r\n                            </svg>\r\n                        </div>\r\n                        <p className=\"text-gray-600 text-sm\">\r\n                            We sent a 6-digit code to <strong>{email}</strong>. Enter the code below to reset your password.\r\n                        </p>\r\n                        <button\r\n                            type=\"button\"\r\n                            onClick={() => setStep('email')}\r\n                            className=\"text-sm text-blue-600 hover:text-blue-800 mt-2\"\r\n                        >\r\n                            Use different email\r\n                        </button>\r\n                    </div>\r\n\r\n                    <form onSubmit={resetForm.handleSubmit(handleResetSubmit)} noValidate className=\"space-y-4\">\r\n                        <div>\r\n                            <label className=\"form-label\">Reset Code</label>\r\n                            <input\r\n                                {...resetForm.register('resetCode', {\r\n                                    required: 'Reset code is required',\r\n                                    minLength: { value: 6, message: 'Code must be 6 digits' },\r\n                                    maxLength: { value: 6, message: 'Code must be 6 digits' }\r\n                                })}\r\n                                ref={(e) => {\r\n                                    resetForm.register('resetCode').ref(e)\r\n                                    codeInputRef.current = e\r\n                                }}\r\n                                type=\"text\"\r\n                                placeholder=\"Enter 6-digit code\"\r\n                                maxLength={6}\r\n                                className={`form-input text-center text-2xl tracking-widest font-mono ${resetForm.formState.errors.resetCode ? 'error' : ''}`}\r\n                                disabled={resetPasswordMutation.isPending}\r\n                            />\r\n                            {resetForm.formState.errors.resetCode && (\r\n                                <InlineError message={resetForm.formState.errors.resetCode.message || 'Invalid code'} />\r\n                            )}\r\n                        </div>\r\n\r\n                        <div>\r\n                            <label className=\"form-label\">New Password</label>\r\n                            <input\r\n                                {...resetForm.register('newPassword', {\r\n                                    required: 'Password is required',\r\n                                    minLength: { value: 6, message: 'Password must be at least 6 characters' }\r\n                                })}\r\n                                type=\"password\"\r\n                                placeholder=\"Enter new password\"\r\n                                className={`form-input ${resetForm.formState.errors.newPassword ? 'error' : ''}`}\r\n                                disabled={resetPasswordMutation.isPending}\r\n                            />\r\n                            {resetForm.formState.errors.newPassword && (\r\n                                <InlineError message={resetForm.formState.errors.newPassword.message || 'Invalid password'} />\r\n                            )}\r\n                        </div>\r\n\r\n                        <div>\r\n                            <label className=\"form-label\">Confirm Password</label>\r\n                            <input\r\n                                {...resetForm.register('confirmPassword', {\r\n                                    required: 'Please confirm your password',\r\n                                    validate: (value) => value === resetForm.watch('newPassword') || 'Passwords do not match'\r\n                                })}\r\n                                type=\"password\"\r\n                                placeholder=\"Confirm new password\"\r\n                                className={`form-input ${resetForm.formState.errors.confirmPassword ? 'error' : ''}`}\r\n                                disabled={resetPasswordMutation.isPending}\r\n                            />\r\n                            {resetForm.formState.errors.confirmPassword && (\r\n                                <InlineError message={resetForm.formState.errors.confirmPassword.message || 'Passwords must match'} />\r\n                            )}\r\n                        </div>\r\n\r\n                        <SubmitButton\r\n                            isLoading={resetPasswordMutation.isPending}\r\n                            loadingText=\"Resetting password...\"\r\n                        >\r\n                            Reset Password\r\n                        </SubmitButton>\r\n                    </form>\r\n\r\n                    <div className=\"mt-4 p-3 bg-amber-50 rounded-lg border border-amber-200\">\r\n                        <p className=\"text-xs text-amber-800 text-center\">\r\n                            ΓÅ░ Code expires in 15 minutes. Didn't receive the code?{' '}\r\n                            <button\r\n                                type=\"button\"\r\n                                onClick={() => setStep('email')}\r\n                                className=\"font-medium text-amber-900 hover:underline\"\r\n                            >\r\n                                Resend\r\n                            </button>\r\n                        </p>\r\n                    </div>\r\n                </>\r\n            )}\r\n        </AuthLayout>\r\n    )\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\SURIYA\\Documents\\GitHub\\Student-Course-Management-System\\frontend\\src\\pages\\LandingPage.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\SURIYA\\Documents\\GitHub\\Student-Course-Management-System\\frontend\\src\\pages\\Login.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\SURIYA\\Documents\\GitHub\\Student-Course-Management-System\\frontend\\src\\pages\\Signup.tsx","messages":[{"ruleId":"react-hooks/incompatible-library","severity":1,"message":"Compilation Skipped: Use of incompatible library\n\nThis API returns functions which cannot be memoized without leading to stale UI. To prevent this, by default React Compiler will skip memoizing this component/hook. However, you may see issues if values from this API are passed to other components/hooks that are memoized.\n\nC:\\Users\\SURIYA\\Documents\\GitHub\\Student-Course-Management-System\\frontend\\src\\pages\\Signup.tsx:34:22\n  32 |     const [errorMessage, setErrorMessage] = useState('')\n  33 |\n> 34 |     const password = watch('password', '')\n     |                      ^^^^^ React Hook Form's `useForm()` API returns a `watch()` function which cannot be memoized safely.\n  35 |\n  36 |     const onSubmit = async (data: SignupFormValues) => {\n  37 |         try {","line":34,"column":22,"nodeType":null,"endLine":34,"endColumn":27}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useState, useRef, useEffect } from 'react'\r\nimport { useNavigate } from 'react-router-dom'\r\nimport { useForm } from 'react-hook-form'\r\nimport { useCreateSignup } from '../hooks/api'\r\nimport { SuccessDisplay, InlineError } from '../components/ui/ErrorDisplay'\r\nimport { ErrorAlert } from '../components/ui/Toast'\r\nimport AuthLayout from '../components/AuthLayout'\r\nimport { SubmitButton } from '../components/ui/FormInput'\r\nimport type { SignupFormValues } from '../types'\r\n\r\nexport default function Signup() {\r\n    const navigate = useNavigate()\r\n    const createSignupMutation = useCreateSignup()\r\n\r\n    const {\r\n        register,\r\n        handleSubmit,\r\n        watch,\r\n        reset,\r\n        formState: { errors }\r\n    } = useForm<SignupFormValues>()\r\n\r\n    const firstNameInputRef = useRef<HTMLInputElement>(null)\r\n\r\n    useEffect(() => {\r\n        if (firstNameInputRef.current) {\r\n            firstNameInputRef.current.focus()\r\n        }\r\n    }, [])\r\n\r\n    const [successMessage, setSuccessMessage] = useState('')\r\n    const [errorMessage, setErrorMessage] = useState('')\r\n\r\n    const password = watch('password', '')\r\n\r\n    const onSubmit = async (data: SignupFormValues) => {\r\n        try {\r\n            setErrorMessage('')\r\n            setSuccessMessage('')\r\n\r\n            await createSignupMutation.mutateAsync({\r\n                firstName: data.firstName,\r\n                lastName: data.lastName,\r\n                email: data.email,\r\n                password: data.password,\r\n                acceptTerms: data.acceptTerms\r\n            })\r\n\r\n            setSuccessMessage('Account created successfully! Redirecting to login...')\r\n            reset()\r\n            setTimeout(() => navigate('/login'), 1500)\r\n        } catch (error: unknown) {\r\n            const serverMessage = error instanceof Error ? error.message : 'Unable to create account. Please try again.'\r\n            setErrorMessage(serverMessage)\r\n        }\r\n    }\r\n\r\n    return (\r\n        <AuthLayout\r\n            title=\"Create an account\"\r\n            footerLinks={[\r\n                { text: \"Already have an account?\", linkText: \"Sign in\", to: \"/login\" },\r\n                { text: \"\", linkText: \"Register as Staff\", to: \"/staff/signup\" }\r\n            ]}\r\n        >\r\n            {successMessage && (\r\n                <SuccessDisplay message={successMessage} onDismiss={() => setSuccessMessage('')} />\r\n            )}\r\n\r\n            {errorMessage && (\r\n                <ErrorAlert message={errorMessage} title=\"Registration Failed\" onDismiss={() => setErrorMessage('')} />\r\n            )}\r\n\r\n            <form onSubmit={handleSubmit(onSubmit)} noValidate className=\"space-y-4\">\r\n                <div className=\"grid grid-cols-2 gap-4\">\r\n                    <div>\r\n                        <label className=\"form-label\">First name</label>\r\n                        <input\r\n                            {...register('firstName', { required: 'First name is required' })}\r\n                            ref={(e) => {\r\n                                register('firstName').ref(e)\r\n                                firstNameInputRef.current = e\r\n                            }}\r\n                            type=\"text\"\r\n                            placeholder=\"John\"\r\n                            className={`form-input ${errors.firstName ? 'error' : ''}`}\r\n                            disabled={createSignupMutation.isPending}\r\n                        />\r\n                        {errors.firstName && <InlineError message={errors.firstName.message || 'Required'} />}\r\n                    </div>\r\n\r\n                    <div>\r\n                        <label className=\"form-label\">Last name</label>\r\n                        <input\r\n                            {...register('lastName', { required: 'Last name is required' })}\r\n                            type=\"text\"\r\n                            placeholder=\"Doe\"\r\n                            className={`form-input ${errors.lastName ? 'error' : ''}`}\r\n                            disabled={createSignupMutation.isPending}\r\n                        />\r\n                        {errors.lastName && <InlineError message={errors.lastName.message || 'Required'} />}\r\n                    </div>\r\n                </div>\r\n\r\n                <div>\r\n                    <label className=\"form-label\">Email</label>\r\n                    <input\r\n                        {...register('email', {\r\n                            required: 'Email is required',\r\n                            pattern: { value: /^[^@\\s]+@[^@\\s]+\\.[^@\\s]+$/, message: 'Please enter a valid email address' }\r\n                        })}\r\n                        type=\"email\"\r\n                        placeholder=\"john@example.com\"\r\n                        className={`form-input ${errors.email ? 'error' : ''}`}\r\n                        disabled={createSignupMutation.isPending}\r\n                    />\r\n                    {errors.email && <InlineError message={errors.email.message || 'Invalid email'} />}\r\n                </div>\r\n\r\n                <div className=\"grid grid-cols-2 gap-4\">\r\n                    <div>\r\n                        <label className=\"form-label\">Password</label>\r\n                        <input\r\n                            {...register('password', {\r\n                                required: 'Password is required',\r\n                                minLength: { value: 8, message: 'Password must be at least 8 characters' }\r\n                            })}\r\n                            type=\"password\"\r\n                            placeholder=\"Min 8 characters\"\r\n                            className={`form-input ${errors.password ? 'error' : ''}`}\r\n                            disabled={createSignupMutation.isPending}\r\n                        />\r\n                        {errors.password && <InlineError message={errors.password.message || 'Invalid password'} />}\r\n                    </div>\r\n\r\n                    <div>\r\n                        <label className=\"form-label\">Confirm password</label>\r\n                        <input\r\n                            {...register('confirmPassword', {\r\n                                required: 'Please confirm your password',\r\n                                validate: value => value === password || 'Passwords do not match'\r\n                            })}\r\n                            type=\"password\"\r\n                            placeholder=\"Confirm password\"\r\n                            className={`form-input ${errors.confirmPassword ? 'error' : ''}`}\r\n                            disabled={createSignupMutation.isPending}\r\n                        />\r\n                        {errors.confirmPassword && <InlineError message={errors.confirmPassword.message || 'Passwords must match'} />}\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"flex items-start gap-3 pt-2\">\r\n                    <input\r\n                        {...register('acceptTerms', { required: 'You must accept the terms and conditions' })}\r\n                        type=\"checkbox\"\r\n                        id=\"acceptTerms\"\r\n                        className=\"mt-1\"\r\n                        disabled={createSignupMutation.isPending}\r\n                    />\r\n                    <label htmlFor=\"acceptTerms\" className=\"text-sm text-gray-600 flex-1\">\r\n                        I agree to the terms and privacy policy\r\n                    </label>\r\n                </div>\r\n                {errors.acceptTerms && <InlineError message={errors.acceptTerms.message || 'Required'} />}\r\n\r\n                <SubmitButton isLoading={createSignupMutation.isPending} loadingText=\"Creating account...\">\r\n                    Sign up\r\n                </SubmitButton>\r\n            </form>\r\n        </AuthLayout>\r\n    )\r\n}\r\n\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\SURIYA\\Documents\\GitHub\\Student-Course-Management-System\\frontend\\src\\pages\\StaffCourseHub\\index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\SURIYA\\Documents\\GitHub\\Student-Course-Management-System\\frontend\\src\\pages\\StaffDashboard\\components\\CourseModal.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\SURIYA\\Documents\\GitHub\\Student-Course-Management-System\\frontend\\src\\pages\\StaffDashboard\\components\\CoursesTab.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\SURIYA\\Documents\\GitHub\\Student-Course-Management-System\\frontend\\src\\pages\\StaffDashboard\\components\\StaffHeader.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\SURIYA\\Documents\\GitHub\\Student-Course-Management-System\\frontend\\src\\pages\\StaffDashboard\\components\\StaffNavigation.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\SURIYA\\Documents\\GitHub\\Student-Course-Management-System\\frontend\\src\\pages\\StaffDashboard\\components\\StudentsTab.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\SURIYA\\Documents\\GitHub\\Student-Course-Management-System\\frontend\\src\\pages\\StaffDashboard\\components\\index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\SURIYA\\Documents\\GitHub\\Student-Course-Management-System\\frontend\\src\\pages\\StaffDashboard\\hooks\\useStaffDashboard.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\SURIYA\\Documents\\GitHub\\Student-Course-Management-System\\frontend\\src\\pages\\StaffDashboard\\index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\SURIYA\\Documents\\GitHub\\Student-Course-Management-System\\frontend\\src\\pages\\StaffDashboard\\utils\\helpers.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\SURIYA\\Documents\\GitHub\\Student-Course-Management-System\\frontend\\src\\pages\\StaffLogin.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\SURIYA\\Documents\\GitHub\\Student-Course-Management-System\\frontend\\src\\pages\\StaffSignup.tsx","messages":[{"ruleId":"react-hooks/incompatible-library","severity":1,"message":"Compilation Skipped: Use of incompatible library\n\nThis API returns functions which cannot be memoized without leading to stale UI. To prevent this, by default React Compiler will skip memoizing this component/hook. However, you may see issues if values from this API are passed to other components/hooks that are memoized.\n\nC:\\Users\\SURIYA\\Documents\\GitHub\\Student-Course-Management-System\\frontend\\src\\pages\\StaffSignup.tsx:34:22\n  32 |     const [errorMessage, setErrorMessage] = useState('')\n  33 |\n> 34 |     const password = watch('password', '')\n     |                      ^^^^^ React Hook Form's `useForm()` API returns a `watch()` function which cannot be memoized safely.\n  35 |\n  36 |     const onSubmit = async (data: StaffSignupFormValues) => {\n  37 |         try {","line":34,"column":22,"nodeType":null,"endLine":34,"endColumn":27}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useState, useRef, useEffect } from 'react'\r\nimport { useNavigate } from 'react-router-dom'\r\nimport { useForm } from 'react-hook-form'\r\nimport { useCreateStaff } from '../hooks/api'\r\nimport { SuccessDisplay, InlineError } from '../components/ui/ErrorDisplay'\r\nimport { ErrorAlert } from '../components/ui/Toast'\r\nimport AuthLayout from '../components/AuthLayout'\r\nimport { SubmitButton } from '../components/ui/FormInput'\r\nimport type { StaffSignupFormValues } from '../types'\r\n\r\nexport default function StaffSignup() {\r\n    const navigate = useNavigate()\r\n    const createStaffMutation = useCreateStaff()\r\n\r\n    const {\r\n        register,\r\n        handleSubmit,\r\n        watch,\r\n        reset,\r\n        formState: { errors }\r\n    } = useForm<StaffSignupFormValues>()\r\n\r\n    const firstNameInputRef = useRef<HTMLInputElement>(null)\r\n\r\n    useEffect(() => {\r\n        if (firstNameInputRef.current) {\r\n            firstNameInputRef.current.focus()\r\n        }\r\n    }, [])\r\n\r\n    const [successMessage, setSuccessMessage] = useState('')\r\n    const [errorMessage, setErrorMessage] = useState('')\r\n\r\n    const password = watch('password', '')\r\n\r\n    const onSubmit = async (data: StaffSignupFormValues) => {\r\n        try {\r\n            setErrorMessage('')\r\n            setSuccessMessage('')\r\n\r\n            await createStaffMutation.mutateAsync({\r\n                firstName: data.firstName,\r\n                lastName: data.lastName,\r\n                email: data.email,\r\n                password: data.password,\r\n                specialization: data.specialization\r\n            })\r\n\r\n            setSuccessMessage('Staff account created successfully! Redirecting to login...')\r\n            reset()\r\n            setTimeout(() => navigate('/staff/login'), 1500)\r\n        } catch (error: unknown) {\r\n            const errorMessage = error instanceof Error ? error.message : 'Unable to create account. Please check if the server is running and try again.'\r\n            setErrorMessage(errorMessage)\r\n        }\r\n    }\r\n\r\n    return (\r\n        <AuthLayout\r\n            title=\"Create Staff Account\"\r\n            badge={{ text: \"Staff Portal\", color: \"accent\" }}\r\n            footerLinks={[\r\n                { text: \"Already have a staff account?\", linkText: \"Sign in\", to: \"/staff/login\" },\r\n                { text: \"\", linkText: \"Student Signup\", to: \"/signup\" }\r\n            ]}\r\n        >\r\n            {successMessage && (\r\n                <SuccessDisplay message={successMessage} onDismiss={() => setSuccessMessage('')} />\r\n            )}\r\n\r\n            {errorMessage && (\r\n                <ErrorAlert message={errorMessage} title=\"Registration Failed\" onDismiss={() => setErrorMessage('')} />\r\n            )}\r\n\r\n            <form onSubmit={handleSubmit(onSubmit)} noValidate className=\"space-y-4\">\r\n                <div className=\"grid grid-cols-2 gap-4\">\r\n                    <div>\r\n                        <label className=\"form-label\">First Name</label>\r\n                        <input\r\n                            {...register('firstName', {\r\n                                required: 'First name is required',\r\n                                minLength: { value: 2, message: 'First name must be at least 2 characters' }\r\n                            })}\r\n                            ref={(e) => {\r\n                                register('firstName').ref(e)\r\n                                firstNameInputRef.current = e\r\n                            }}\r\n                            type=\"text\"\r\n                            placeholder=\"John\"\r\n                            className={`form-input ${errors.firstName ? 'error' : ''}`}\r\n                            disabled={createStaffMutation.isPending}\r\n                        />\r\n                        {errors.firstName && <InlineError message={errors.firstName.message || 'Invalid first name'} />}\r\n                    </div>\r\n\r\n                    <div>\r\n                        <label className=\"form-label\">Last Name</label>\r\n                        <input\r\n                            {...register('lastName', {\r\n                                required: 'Last name is required',\r\n                                minLength: { value: 1, message: 'Last name is required' }\r\n                            })}\r\n                            type=\"text\"\r\n                            placeholder=\"Doe\"\r\n                            className={`form-input ${errors.lastName ? 'error' : ''}`}\r\n                            disabled={createStaffMutation.isPending}\r\n                        />\r\n                        {errors.lastName && <InlineError message={errors.lastName.message || 'Invalid last name'} />}\r\n                    </div>\r\n                </div>\r\n\r\n                <div>\r\n                    <label className=\"form-label\">Email</label>\r\n                    <input\r\n                        {...register('email', {\r\n                            required: 'Email is required',\r\n                            pattern: { value: /^[^@\\s]+@[^@\\s]+\\.[^@\\s]+$/, message: 'Invalid email format' }\r\n                        })}\r\n                        type=\"email\"\r\n                        placeholder=\"john.doe@staff.com\"\r\n                        className={`form-input ${errors.email ? 'error' : ''}`}\r\n                        disabled={createStaffMutation.isPending}\r\n                    />\r\n                    {errors.email && <InlineError message={errors.email.message || 'Invalid email'} />}\r\n                </div>\r\n\r\n                <div>\r\n                    <label className=\"form-label\">Specialization</label>\r\n                    <input\r\n                        {...register('specialization', {\r\n                            required: 'Specialization is required',\r\n                            minLength: { value: 2, message: 'Specialization must be at least 2 characters' }\r\n                        })}\r\n                        type=\"text\"\r\n                        placeholder=\"e.g., React Development, JavaScript, Full Stack\"\r\n                        className={`form-input ${errors.specialization ? 'error' : ''}`}\r\n                        disabled={createStaffMutation.isPending}\r\n                    />\r\n                    {errors.specialization && <InlineError message={errors.specialization.message || 'Invalid specialization'} />}\r\n                </div>\r\n\r\n                <div>\r\n                    <label className=\"form-label\">Password</label>\r\n                    <input\r\n                        {...register('password', {\r\n                            required: 'Password is required',\r\n                            minLength: { value: 6, message: 'Password must be at least 6 characters' }\r\n                        })}\r\n                        type=\"password\"\r\n                        placeholder=\"Create a password\"\r\n                        className={`form-input ${errors.password ? 'error' : ''}`}\r\n                        disabled={createStaffMutation.isPending}\r\n                    />\r\n                    {errors.password && <InlineError message={errors.password.message || 'Invalid password'} />}\r\n                </div>\r\n\r\n                <div>\r\n                    <label className=\"form-label\">Confirm Password</label>\r\n                    <input\r\n                        {...register('confirmPassword', {\r\n                            required: 'Please confirm your password',\r\n                            validate: value => value === password || 'Passwords do not match'\r\n                        })}\r\n                        type=\"password\"\r\n                        placeholder=\"Confirm your password\"\r\n                        className={`form-input ${errors.confirmPassword ? 'error' : ''}`}\r\n                        disabled={createStaffMutation.isPending}\r\n                    />\r\n                    {errors.confirmPassword && <InlineError message={errors.confirmPassword.message || 'Passwords must match'} />}\r\n                </div>\r\n\r\n                <SubmitButton isLoading={createStaffMutation.isPending} loadingText=\"Creating Account...\" variant=\"accent\">\r\n                    Create Staff Account\r\n                </SubmitButton>\r\n            </form>\r\n        </AuthLayout>\r\n    )\r\n}\r\n\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\SURIYA\\Documents\\GitHub\\Student-Course-Management-System\\frontend\\src\\pages\\__tests__\\LandingPage.test.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\SURIYA\\Documents\\GitHub\\Student-Course-Management-System\\frontend\\src\\setupTests.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\SURIYA\\Documents\\GitHub\\Student-Course-Management-System\\frontend\\src\\types\\index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\SURIYA\\Documents\\GitHub\\Student-Course-Management-System\\frontend\\src\\utils\\helpers.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]}]
